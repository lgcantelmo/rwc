<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      Entrada de Mercadoria
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding>
  <p style="color:#000000;">
    <strong>Nº da nota: </strong> {{invoice.number}} <br>
    <strong>Data de Entrada: </strong> {{invoice.date}}<br>
    <strong>Empresa: </strong> {{invoice.nick}} <br>
  <p>
  <div class="spacer" style="width:300px;height:10px;"></div>
  <div class="div-box">
    <p style="color:#000000;">
      <strong>
        1º) Informe o código abaixo:
      </strong>    
    <p>
    <ion-item>
      <ion-label></ion-label>
      <ion-input type="text" #barcodeInput placeholder="Código de Barras" [(ngModel)]="barcode" [ngModelOptions]="{standalone: true}" (focus)="selectAll($event)" (keyup.enter)="searchItem()"></ion-input>
    </ion-item>
    <div class="spacer" style="width:300px;height:5px;"></div>
    <button ion-button color="assertive" block icon-left on-click="searchItem()">
      <ion-icon name="search"></ion-icon>
      Consultar
    </button>
    <div class="show-list-numbers-and-dots">
      <p style="color:#000000;font-size:10px;">
        Se preferir, identifique o código de barras através do leitor.
      </p>
      <p style="color:#000000;" [hidden]="!loadedItem">
        <strong>Item encontrado:</strong>
        <br>
        <strong>{{description}}</strong>
      </p>  
    </div>
  </div>  
  <div class="spacer" style="width:300px;height:10px;"></div>
  <div class="div-box" style="padding-bottom:15px" [hidden]="!loadedItem">    
    <p style="color:#000000;">
      <strong>
        2º) Realize a contagem:
      </strong>
    <p>    
    <ion-item style="background-color: rgb(223, 222, 222);">
      <ion-label>
        Contar por caixa
      </ion-label>
      <ion-toggle color="assertive" [(ngModel)]="countPerBox" [ngModelOptions]="{standalone: true}" [disabled]="!loadedItem"></ion-toggle>
    </ion-item> 
    <ion-item [hidden]="!countPerBox">
      <ion-label>
        Qtd. de caixas
      </ion-label>
      <ion-input type="number" pattern="[0-9]*" [(ngModel)]="boxQty" [ngModelOptions]="{standalone: true}" [disabled]="!loadedItem"></ion-input>
    </ion-item>
    <ion-item >
      <ion-label>
        {{ countPerBox ? "Qtd. unit. por caixa" : "Qtd unitária" }}
      </ion-label>
      <ion-input type="number" pattern="[0-9]*" [(ngModel)]="unitQty" [ngModelOptions]="{standalone: true}" [disabled]="!loadedItem"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>
        Validade
      </ion-label>
      <ion-datetime displayFormat="DD/MM/YYYY" cancelText="Cancelar" doneText="OK" [min]="minYear" [max]="maxYear" [(ngModel)]="validate" [disabled]="!loadedItem"></ion-datetime>
    </ion-item>
    <button ion-button color="assertive" block icon-left on-click="saveItem()" [disabled]="!loadedItem">
      <ion-icon name="add-circle"></ion-icon>
      Salvar Item
    </button>
  </div>
  
  <div class="spacer" style="width:300px;height:30px;"></div>
  <ion-grid>
    <ion-row>
      <ion-col>
        <button ion-button color="stable" full icon-left on-click="returnToInvoices()">
          <ion-icon name="return-left"></ion-icon>
          Voltar
        </button>
      </ion-col>
      <ion-col>
        <button ion-button color="primary" full icon-left style="border-radius:0px 0px 0px 0px;" on-click="closeInvoice()">
          <ion-icon name="checkbox-outline"></ion-icon>
          Finalizar Nota
        </button>
      </ion-col>
    </ion-row>
    <ion-row>
        <ion-col>
          <button ion-button color="stable" full icon-left on-click="saveObservation()">
            <ion-icon name="save"></ion-icon>
            Registrar observações
          </button>
        </ion-col>
      </ion-row>
  </ion-grid>  
</ion-content>