<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      Entrada de Mercadorias
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding>
  <ion-list>
    <ion-item text-wrap on-click="toggleLevel1(0)" [ngClass]="'active: isLevel1Shown(0)'">
      <ion-icon color="success" item-left [name]="isLevel1Shown(0) ? 'arrow-dropdown' : 'arrow-dropright'"></ion-icon>
      <strong>Notas para conferência</strong>
      <ion-badge item-right *ngIf="invoices != null">{{invoices.length}}</ion-badge>
      <ion-list  *ngIf="isLevel1Shown(0)">
        <ion-item color="none" *ngFor="let invoice of invoices" on-click="goToEntry(invoice.id)" text-wrap>
          <strong>{{invoice.number}}</strong>
          <p>{{invoice.nick}}</p>          
          <p>{{invoice.date}}</p>
          <p item-right>{{invoice.detail == 1 e 2 ? "Conferir 1" : "Conferir 2"}}</p>
          <ion-icon name="arrow-round-forward" item-right></ion-icon>
        </ion-item>
      </ion-list>
    </ion-item>

    <ion-item text-wrap on-click="toggleLevel1(1)" [ngClass]="'active: isLevel1Shown(1)'">
      <ion-icon color="success" item-left [name]="isLevel1Shown(1) ? 'arrow-dropdown' : 'arrow-dropright'"></ion-icon>
      <strong>Notas para reconferência</strong>   
      <ion-badge color="assertive" item-right *ngIf="invoicesR != null">{{invoicesR.length}}</ion-badge>   
      <ion-list *ngIf="isLevel1Shown(1)">
        <ion-item color="none" *ngFor="let invoice of invoicesR" on-click="goToRecounts(invoice.id)" text-wrap>
          <strong>{{invoice.number}}</strong>
          <p>{{invoice.nick}}</p>
          <h5>{{invoice.date}}</h5>
          <ion-icon name="arrow-round-forward" item-right></ion-icon>
        </ion-item>
      </ion-list>
    </ion-item>    
  </ion-list>
  <button ion-button color="stable" block icon-left on-click="refresh()">
    <ion-icon name="refresh"></ion-icon>
    Atualizar
  </button>
</ion-content>
